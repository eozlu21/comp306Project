<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <title>Profile Page</title>
  <link rel="stylesheet" href="/css/profile.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="profile-container">
  <div class="profile-header">
    <div class="details">
      <h2 th:text="${user.firstName + ' ' + user.lastName}">Name</h2>
      <p th:text="'Phone Number: ' + ${user.phoneNumber}">Phone Number</p>
      <p th:text="'Address: ' + ${user.address}">Address</p>
      <p th:text="'Email: ' + ${user.email}">Email</p>
    </div>
    <div class="profile-actions">
      <a th:href="@{/editProfile(userID=${user.userId})}" class="edit-profile-button">Edit Profile</a>
      <a th:href="@{/logout}" class="logout-button">Logout</a>
      <a th:href="@{/homepage(userID=${user.userId})}" class="back-button">Back to Homepage</a>
    </div>
  </div>

  <!-- Reviews and Orders Sections -->
  <div class="profile-sections">
    <div class="reviews-section">
      <h3>My Reviews</h3>
      <div class="reviews-grid" th:each="review : ${reviews}">
        <div class="review-card">
          <div class="stars" th:text="'★'.repeat(${review.rating}) + '☆'.repeat(5 - ${review.rating})"></div>
          <p th:text="'Username: ' + ${review.username}">Username</p>
          <p th:text="${review.comment}">Comment</p>
          <p th:text="'Date: ' + ${review.date}">Date</p>
        </div>
      </div>
    </div>

    <div class="orders-section">
      <h3>My Orders</h3>
      <div class="orders-grid" th:each="order : ${orders}">
        <div class="order-card">
          <p th:text="'Order ID: ' + ${order.orderId}">Order ID</p>
          <p th:text="'Status: ' + (${order.orderStatus} ? 'Approved' : 'Cart')">Order Status</p>
          <div class="order-products" th:each="product : ${order.products}">
            <p th:text="'Product ID: ' + ${product.productId}">Product ID</p>
            <p th:text="'Quantity: ' + ${product.quantity}">Quantity</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
